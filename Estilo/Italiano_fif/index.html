<!DOCTYPE html>
    <head>
        <title>Italiano Anos 50</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../../Styles.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.8.0/p5.js"></script>
        <script>
            function FillColors(){
                let divC = document.getElementById('box-ColorsContainer')
                divC.innerHTML=''
                for(let i=0;i<Colors.length;i++){
                    divC.innerHTML+='<input class="btnBaseColors" type="color" value="'+Colors[i]+'" id="OcustomColor-'+String(i)+'" onChange="ColorArrayEdit(1,'+String(i)+')">'
                }
                let div = document.getElementById('box-ColorsXContainer')
                div.innerHTML=''
                for(let i = 0;i<ColorsXtra.length;i++){
                    div.innerHTML+='<div class="customColorUnit"><input class="btnBaseColors" id="customColor-'+String(i)+'" onChange="ColorArrayEdit(0,'+String(i)+')" type="color" value="'+ColorsXtra[i]+'"><button class="customColorX" onClick="DeleteColor('+String(i)+')">X</button></div>'
                };
                div.innerHTML+='<button id="btnAddColor" onClick="AddColor()">+</button>'
            }
            function ColorArrayEdit(f,i){
                let input = document.getElementById((f==1?'O':'')+'customColor-'+String(i))
                if(f==1){
                    Colors[i] = input.value
                }else{
                    ColorsXtra[i] = input.value
                }
            }

            function DeleteColor(i){
                ColorsXtra.splice(i, 1)
                FillColors()
            }

            function AddColor(){
                if(ColorsXtra.length>7){
                    return
                }
                ColorsXtra.push('#'+Math.floor(Math.random()*16777215).toString(16))
                FillColors()
            }

            function Reset_Colors(){
                Colors = BaseColors.map((x)=>x)
                color
                FillColors()
            }
            function Del_CustomColors(){
                ColorsXtra = []
                FillColors()
            }

            window.onload = ()=>{
                FillColors()
            }
        </script>
    </head>
    <body>
        <div class="sideBar">
            <div id="voltar">
                <a target="_self" href="../..">â—€ Voltar</a>
            </div>
            <h1 id="pageTitle" style="font-family: 'Open Sans', sans-serif;font-size: 64px;">Italiano<br>Anos 50</h1>
            <div id="genSav">
                <button class="btnGenSav" onclick="Generate()">Gerar</button>
                <button class="btnGenSav" onclick="Save()">Salvar</button>
            </div>
            <div class="dividerLateral">
                <div class="latTitleBtn">
                    <p class="latTitle">Paleta Base</p>
                    <button class="latBtn" onclick="Reset_Colors()">reset</button>
                </div>
                <hr>
                <div id="box-ColorsContainer"></div>
            </div>
            <div class="dividerLateral">
                <div class="latTitleBtn">
                    <p class="latTitle">Paleta Extra</p>
                    <p class="latBtn" onclick="Del_CustomColors()">limpar</p>
                </div>
                <hr>
                <div id="box-ColorsXContainer"></div>
            </div>
        </div>
        <div id="Draw"></div>
        <script src="sketch.js"></script>
    </body>
</html>